# 经验之谈

1. 普通播放器
2. 瑜伽播放器
3. 精品课程播放器

   每个播放器的UI界面都不一样

1。 使用简单工厂模式

1. 单元测试

   写单元测试过程中，思维和写代码不一样

   写代码是业务逻辑思维+设计模式（也只是接口的设计）

   写单元测试过程：会考虑这个接口是否能完全测试到所有的可能点，是否需要mock太多东西。其实如果需要mock太多东西那就说明这个函数没有设计好。

总结：尽量少写没有参数和没有返回值的接口，不好测试，也不好扩展，让别人看不懂

一个方法中有太多test case——被测试的方法做了太多事情。 太多的setup/teardown——表示被测试类的耦合性太高。 改变一个地方，多处测试受影响——也许是测试的设计问题，也许是实现代码中有过多依赖。 测试上下文中有太多依赖——设计中的耦合性太高。 测试运行速度缓慢——表示你的单元测试也许在使用外部系统，例如网络、数据库、文件系统等等。通常也意味着被测试类有过多的职责。

为了测试的目的，把成员变量或者方法的访问权限变成protected或者public——可能是因为测试代码跟被测试的代码耦合太高，也可能是本来私有的东西有太多行为，这种情况下应该考虑把它抽出来作为独立的对象。

播放测试，在写测试的时候，本来想用私有方法来获取player然后判断播放状态，但是想想还是对原有类进行重构了一下，增加了播放状态

